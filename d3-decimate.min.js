(function(e){function i(){function c(t){function c(t){return t.map(function(t){return{x:s(e(t)),y:o(i(t))}})}f&&(t=t.filter(f));if(l==0||t.length<l)return c(t);var h=Math.round(t.length/l);if(h===1)return c(t);var p=t.length,d,v,m,g=[],b=n[u],w=n[a],E=r[u],S=r[a];for(d=0;d<p&&d+h<=p;d+=h){var T=0,N=0;m=d+h;for(v=d;v<m;v++)T=b(T,e(t[v])),N=w(N,i(t[v]));T=E(T,h),N=S(N,h),g.push({x:s(T),y:o(N)})}return g}var e=function(e){return e.x},i=function(e){return e.y},s=function(e){return e},o=function(e){return e},u="mean",a="mean",f=null,l=0;return c.x=function(t){return arguments.length?(e=t,c):e},c.sx=function(e){return arguments.length?(s=e,c):s},c.filter=function(e){return arguments.length?(f=e,c):f},c.y=function(e){return arguments.length?(i=e,c):i},c.sy=function(e){return arguments.length?(o=e,c):o},c.x_method=function(e){if(!arguments.length)return u;if(t.indexOf(e)>=0)return u=e,c},c.y_method=function(e){if(!arguments.length)return a;if(t.indexOf(e)>=0)return a=e,c},c.maxpoints=function(e){return arguments.length?(l=e,c):l},c}var t=["mean","max","min"],n={mean:function(e,t){return e+t},max:function(e,t){return Math.max(e,t)},min:function(e,t){return Math.min(e,t)}},r={mean:function(e,t){return e/t},max:function(e){return e},min:function(e){return e}};e.decimate=i})(d3);